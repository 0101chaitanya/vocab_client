(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{267:function(e,t,n){"use strict";n.d(t,"a",(function(){return Le}));var r,a,o,c,i,s=n(4),l=n.n(s),u=n(11),m=n.n(u),p=n(266),d=n(0),f=n.n(d),g=n(151),b=n(177),y=n(85),O=n(441),w=n(439),h=n(442),E=n(437),v=n(265),j=n(21),S=n.n(j),P=n(10),x=n.n(P),C=n(436),D=n(438),k=n(39),T=n(37),U=n(50),q=n(76),I=n(120),R=n(12),L=n(104),$=n(112),B=n.n($),_=n(440),W=Object(_.a)(r||(r=B()(["\n  query {\n    currentUser {\n      id\n      words\n    }\n  }\n"]))),G=(Object(_.a)(a||(a=B()(["\n  query {\n    allWords {\n      id\n      word\n      origin\n      phonetic\n      phonetics {\n        audio\n        text\n      }\n      meanings {\n        partOfSpeech\n        definitions {\n          antonyms\n          definition\n          example\n          synonyms\n        }\n      }\n    }\n  }\n"]))),Object(_.a)(o||(o=B()(["\n  mutation ($username: String!, $password: String!) {\n    register(username: $username, password: $password)\n  }\n"])))),N=Object(_.a)(c||(c=B()(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),z=Object(_.a)(i||(i=B()(["\n  mutation ($word: String!) {\n    addWord(word: $word)\n  }\n"]))),J=n(51),V=n(445);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=J.a().shape({username:J.c().min(4,"Too Short!").max(10,"Too Long!").required("Required"),password:J.c().min(6,"Too Short!").max(12,"Too Long!").required("Required")}),Q=function(e){e.user;var t=e.navigation,n=(e.route,e.setUser),r=Object(V.a)(N),a=x()(r,2),o=a[0],c=a[1],i=c.data,s=c.called,l=(c.loading,c.error);Object(d.useEffect)((function(){if(i){var e=i.login.token;n((function(t){return F(F({},t),{},{token:e})})),console.log(e),function(){var t;m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(y.a.setItem("@gql_vocab_token",e));case 2:return n.next=4,m.a.awrap(y.a.getItem("@gql_vocab_token"));case 4:return t=n.sent,console.log("res",t),n.abrupt("return",t);case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}}),[i]);var u=Object(R.b)(),p=(u.container,u.headingSmall),g=u.warn,b=u.button,O=u.txtInput;return f.a.createElement(k.a,{contentContainerStyle:{flexGrow:1}},f.a.createElement(L.a,{initialValues:{username:"",password:""},validationSchema:H,onSubmit:function(e){var t=e.username,n=e.password;console.log(t,n),o({variables:{username:t,password:n}})}},(function(e){var n=e.handleChange,r=e.errors,a=e.handleBlur,o=e.handleSubmit,c=e.values;return f.a.createElement(k.a,{contentContainerStyle:{flexGrow:1}},f.a.createElement(T.a,{style:p},"Sign In"),f.a.createElement(q.a,{style:O,onChangeText:n("username"),onBlur:a("username"),value:c.username,mode:"outlined",label:"Username"}),f.a.createElement(T.a,{style:g},r.username),f.a.createElement(q.a,{style:O,onChangeText:n("password"),onBlur:a("password"),value:c.password,mode:"outlined",label:"Password",secureTextEntry:!0}),f.a.createElement(T.a,{style:g},r.password),f.a.createElement(U.a,{mode:"contained",onPress:o,style:b},"Submit"),f.a.createElement(T.a,{style:{color:"red",alignSelf:"center"}},"OR"),f.a.createElement(U.a,{mode:"contained",onPress:function(){return t.navigate("SignUp")},style:b},"SignUp"))})),f.a.createElement(I.a,{style:g},s?l?"Error: "+l:s&&i&&i.login.token?"Login successful":"Login failed":""))},K=J.a().shape({username:J.c().min(4,"Too Short!").max(10,"Too Long!").required("Required"),password:J.c().min(6,"Too Short!").max(12,"Too Long!").required("Required"),passwordConfirmation:J.c().oneOf([J.b("password"),null],"Passwords must match")}),M=function(e){e.user;var t=e.navigation,n=(e.route,e.setUser,Object(R.b)()),r=(n.container,n.headingSmall),a=n.warn,o=n.button,c=n.txtInput,i=Object(V.a)(G),s=x()(i,2),l=s[0];s[1];return f.a.createElement(k.a,{contentContainerStyle:{flexGrow:1}},f.a.createElement(L.a,{initialValues:{username:"",password:"",passwordConfirmation:""},validationSchema:K,onSubmit:function(e){var t=e.username,n=e.password;l({variables:{username:t,password:n}})}},(function(e){var n=e.handleChange,i=e.errors,s=e.handleBlur,l=e.handleSubmit,u=e.values;return f.a.createElement(k.a,{contentContainerStyle:{flexGrow:1}},f.a.createElement(T.a,{style:r},"Sign Up"),f.a.createElement(q.a,{style:c,onChangeText:n("username"),onBlur:s("username"),value:u.username,mode:"outlined",label:"Username"}),f.a.createElement(T.a,{style:a},i.username),f.a.createElement(q.a,{style:c,onChangeText:n("password"),onBlur:s("password"),value:u.password,mode:"outlined",label:"Password",secureTextEntry:!0}),f.a.createElement(T.a,{style:a},i.password),f.a.createElement(q.a,{style:c,onChangeText:n("passwordConfirmation"),onBlur:s("passwordConfirmation"),value:u.passwordConfirmation,mode:"outlined",label:"Confirm Password",secureTextEntry:!0}),f.a.createElement(T.a,{style:a},i.passwordConfirmation),f.a.createElement(U.a,{mode:"contained",onPress:l,style:o},"Submit"),f.a.createElement(T.a,{style:{color:"red",alignSelf:"center"}},"OR"),f.a.createElement(U.a,{mode:"contained",onPress:function(){return t.navigate("SignIn")},style:o},"SignIn"))})))},X=n(443),Y=n(156),Z=n(7),ee=n(32),te=n(3),ne=n(96),re=n(175),ae=n(258),oe=n(103),ce=n(20),ie=n(159),se=n(176),le=n(160),ue=n(157),me=n(121),pe=n(99);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){return"web"===Z.a.OS?f.a.createElement(ie.a,e):f.a.createElement(Y.a,e)}var be=function(e){var t=e.item,n=Object(R.b)(),r=(n.container,n.headingSmall,n.txtInput,n.warn,n.wordContainer),a=(n.button,n.search,n.colors),o=(n.fab,n.pos),c=f.a.useState(!1),i=x()(c,2),s=i[0],l=i[1],u=function(){return l(!1)};return f.a.createElement(pe.a,{style:fe({},r)},f.a.createElement(ue.a,{onPress:function(){return l(!0)}},f.a.createElement(me.a,{style:{color:a.primary,paddingLeft:15}},t.word.toUpperCase()),f.a.createElement(le.a,null,f.a.createElement(ge,{visible:s,animationType:"slide",onDismiss:u,contentContainerStyle:{backgroundColor:"white",padding:20,flex:1,width:"100%",justifyContent:"start"}},f.a.createElement(k.a,{contentContainerStyle:{flexGrow:1,padding:20}},f.a.createElement(U.a,{icon:"close",onPress:u,style:{position:"absolute",top:10,right:10}}),f.a.createElement(me.a,null,"Word : ",t.word.toUpperCase()),f.a.createElement(ee.a,{style:o},"Origin : ",t.origin),f.a.createElement(ee.a,{style:o},"Phonetic : ",t.phonetic),t.meanings.map((function(e,t){return f.a.createElement(te.a,{key:t},f.a.createElement(ee.a,{style:o},"Part of speech : ",e.partOfSpeech),e.definitions.map((function(e,t){return f.a.createElement(te.a,{key:t},f.a.createElement(ee.a,{style:o},"Definition : ",e.definition),f.a.createElement(ee.a,{style:o},"Example : ",e.example),f.a.createElement(ee.a,{style:o},"Synonyms : ",e.synonyms.join(", ")),f.a.createElement(ee.a,{style:o},"Antonyms : ",e.antonyms.join(", ")))})))})))))))};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=J.a().shape({word:J.c().required("Required")}),he=function(e){e.user,e.navigation,e.route,e.setUser;var t,n=Object(R.b)(),r=n.container,a=n.headingSmall,o=n.pos,c=n.txtInput,i=n.warn,s=n.button,l=n.search,u=n.fab,m=Object(V.a)(z),p=x()(m,2),d=p[0],g=p[1],b=g.called,y=(g.loading,g.error),O=g.data,w=Object(X.a)(W),h=w.loading,E=w.error,v=w.data,j=w.refetch,S=f.a.useState(!1),P=x()(S,2),C=P[0],D=P[1],k=f.a.useState(""),T=x()(k,2),$=T[0],B=T[1],_=f.a.useState([]),G=x()(_,2),N=G[0],J=G[1],A=f.a.useState(!1),F=x()(A,2),H=F[0],Q=F[1],K=function(){return D(!1)};return console.log(N),f.a.useEffect((function(){var e;J(null==v||null==(e=v.currentUser)?void 0:e.words)}),[null==v||null==(t=v.currentUser)?void 0:t.words]),f.a.useEffect((function(){var e,t=""!==$?N.filter((function(e){return e.word.includes($)})):null==v||null==(e=v.currentUser)?void 0:e.words;console.log($,t),J(t)}),[$]),h?f.a.createElement(oe.a,{animating:!0,color:ce.e}):E?f.a.createElement(ee.a,null,"Error! ",E.message):f.a.createElement(te.a,{style:r},f.a.createElement(ae.a,{placeholder:"Search",onChangeText:function(e){return B(e)},value:$,style:Oe({},l)}),f.a.createElement(ee.a,{style:Oe(Oe({},o),{},{alignSelf:"center"})},"Pull down to refetch"),f.a.createElement(ne.a,{data:N,renderItem:function(e){return f.a.createElement(be,e)},keyExtractor:function(e){return e._id},refreshControl:f.a.createElement(re.a,{refreshing:H,onRefresh:function(){Q(!0),setTimeout((function(){Q(!1),j()}),5e3)}})}),f.a.createElement(le.a,null,f.a.createElement(Ee,{visible:C,animationType:"slide",onDismiss:K,contentContainerStyle:{backgroundColor:"white",padding:10,flex:1,width:"100%",justifyContent:"start"}},f.a.createElement(L.a,{initialValues:{word:""},validationSchema:we,onSubmit:function(e){var t=e.word;console.log(t),d({variables:{word:t}})}},(function(e){var t=e.handleChange,n=(e.errors,e.handleBlur),o=e.handleSubmit,l=e.values;return f.a.createElement(te.a,{style:Oe(Oe({},r),{},{alignItems:"center",justifyContent:"center"})},f.a.createElement(U.a,{icon:"close",onPress:K,style:{position:"absolute",top:5,margin:10,right:10}}),f.a.createElement(ee.a,{style:a},"ADD NEW WORD "),f.a.createElement(q.a,{style:c,onChangeText:t("word"),onBlur:n("word"),value:l.word,mode:"outlined",label:"New Word"}),f.a.createElement(U.a,{mode:"contained",onPress:o,style:s},"Submit"),f.a.createElement(I.a,{style:i},b?y||E?JSON.stringify(y.graphQLErrors[0].message)+JSON.stringify(E):null==O?void 0:O.addWord:""))})))),f.a.createElement(se.a,{small:!0,icon:"plus",style:u,onPress:function(){return D(!0)}}))};function Ee(e){return"web"===Z.a.OS?f.a.createElement(ie.a,e):f.a.createElement(Y.a,e)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=Object(D.a)(),Pe=function(){var e=f.a.useState({token:null,user:{}}),t=x()(e,2),n=t[0],r=t[1];return Object(d.useLayoutEffect)((function(){!function(){var e;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(y.a.getItem("@gql_vocab_token"));case 3:e=t.sent,r((function(t){return je(je({},t),{},{token:e})})),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}()}),[n.token]),f.a.createElement(C.a,null,f.a.createElement(Se.Navigator,{screenOptions:function(e){e.navigation;return{headerRight:function(){return f.a.createElement(U.a,{onPress:function(){y.a.clear(),r({token:null,user:{}})}},"Log out")}}}},n.token?f.a.createElement(f.a.Fragment,null,f.a.createElement(Se.Screen,{name:"Home"},(function(e){return f.a.createElement(he,S()({user:n,setUser:r},e))}))):f.a.createElement(f.a.Fragment,null,f.a.createElement(Se.Screen,{name:"SignIn",options:{title:"Sign in",headerRight:""}},(function(e){return f.a.createElement(Q,S()({user:n,setUser:r},e))})),f.a.createElement(Se.Screen,{name:"SignUp",options:{title:"Sign Up",headerRight:""},component:M}))))},xe=n(68);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=De(De({},xe.a),{},{colors:De(De({},xe.a.colors),{},{primary:"red"}),container:{flex:1},get wordContainer(){return{width:"web"===Z.a.OS?"60%":"80%",alignSelf:"center",padding:5,margin:5}},get headingSmall(){return{fontSize:30,color:this.colors.primary,textDecorationLine:"underline",alignSelf:"center",margin:10}},get pos(){return{fontSize:17,margin:5}},get button(){return{margin:10,backgroundColor:this.colors.primary,borderRadius:10,width:"web"===Z.a.OS?"40%":"80%",alignSelf:"center"}},get warn(){return{fontSize:18,color:this.colors.primary,margin:10,alignSelf:"center"}},get txtInput(){return{color:this.colors.primary,width:"web"===Z.a.OS?"40%":"80%",alignSelf:"center"}},get search(){return{margin:10,width:"web"===Z.a.OS?"60%":"80%",alignSelf:"center",borderRadius:10}},get fab(){return{backgroundColor:this.colors.primary,position:"absolute",margin:20,right:0,bottom:0}}});function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=Object(v.a)((function(e,t){var n,r;return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,e.next=3,m.a.awrap(y.a.getItem("@gql_vocab_token"));case 3:return r=e.sent,e.abrupt("return",{headers:Ue(Ue({},n),{},{authorization:r||null})});case 5:case"end":return e.stop()}}),null,null,null,Promise)})),Ie=new O.a({uri:"https://apollo-vocab-serve.herokuapp.com/"}),Re=new w.a({cache:new h.a,link:qe.concat(Ie),connectToDevTools:!0});function Le(){return f.a.createElement(g.a,{style:ke.container},f.a.createElement(p.a,{style:"auto"}),f.a.createElement(E.a,{client:Re},f.a.createElement(b.a,{theme:ke},f.a.createElement(Pe,null))))}},276:function(e,t,n){e.exports=n(420)}},[[276,1,2]]]);
//# sourceMappingURL=app.e3d4d645.chunk.js.map